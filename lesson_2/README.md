# Системы контроля версий (VCS)

Система контроля версий — это система, регистрирующая изменения в одном или нескольких файлах с тем, чтобы в дальнейшем была возможность вернуться к определённым старым версиям этих файлов.

Система контроля версий даёт возможность возвращать отдельные файлы к прежнему виду, возвращать к прежнему состоянию весь проект, просматривать происходящие со временем изменения, определять, кто последним вносил изменения во внезапно переставший работать модуль, кто и когда внёс в код какую-то ошибку, и многое другое. Вообще, если, пользуясь СКВ, вы всё испортите или потеряете файлы, всё можно будет легко восстановить.

## Распределённые системы контроля версий

В таких системах как клиенты не просто выгружают последние версии файлов, а полностью копируют весь репозиторий. Поэтому в случае, когда "умирает" сервер, через который шла работа, любой клиентский репозиторий может быть скопирован обратно на сервер, чтобы восстановить базу данных. Каждый раз, когда клиент забирает свежую версию файлов, он создаёт себе полную копию всех данных.

![git](img/git.png)

Кроме того, в большей части этих систем можно работать с несколькими удалёнными репозиториями, таким образом, можно одновременно работать по-разному с разными группами людей в рамках одного проекта. Так, в одном проекте можно одновременно вести несколько типов рабочих процессов, что невозможно в централизованных системах.

## Основы Git

Git считает хранимые данные набором слепков небольшой файловой системы. Каждый раз, когда вы фиксируете текущую версию проекта, Git, по сути, сохраняет слепок того, как выглядят все файлы проекта на текущий момент. Ради эффективности, если файл не менялся, Git не сохраняет файл снова, а делает ссылку на ранее сохранённый файл.

![git1](img/git1.png)

Для совершения большинства операций в Git'е необходимы только локальные файлы и ресурсы, т.е. обычно информация с других компьютеров в сети не нужна. 

Вы можете определенное время работать без подключения к сети, используя только локальный репозиторий. Вносить изменения, делать комиты. А потом просто сделать синхронизацию с сервером.

Практически все действия, которые вы совершаете в Git'е, только добавляют данные в базу. Очень сложно заставить систему удалить данные или сделать что-то необратимое. Можно, потерять данные, которые вы ещё не сохранили, но как только они зафиксированы, их очень сложно потерять, особенно если вы регулярно отправляете изменения в другой репозиторий.

Стандартный рабочий процесс с использованием Git'а выглядит примерно так:

* Вы вносите изменения в файлы.
* Подготавливаете файлы, добавляя их слепки в индекс.
* Делаете коммит, который берёт подготовленные файлы из индекса и помещает их в каталог Git'а на постоянное хранение.

## Работа с [GIT](https://git-scm.com/book/ru/v2)
Для начала нужно установить git, для этого воспользуемся командой:

```
apt install git
```

Затем нужно инициализировать репозитирий в папке проекта:

```
git init
```

Эта команда создаёт в текущем каталоге новый подкаталог с именем .git содержащий все необходимые файлы репозитория — основу Git-репозитория. На этом этапе ваш проект ещё не находится под версионным контролем.

Чтобы добавить под версионный контроль существующие файлы, вам нужно проиндексировать эти файлы и осуществить первую фиксацию изменений. Осуществить это вы можете с помощью команд `git add` указывающей индексируемые файлы, а затем `git commit` фиксирующей изменения.

```
git add .
git commit -m 'initial project version'
```

